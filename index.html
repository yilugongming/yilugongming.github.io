<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>【异路功名】流年五行测算</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: "Microsoft YaHei", sans-serif; }
        body { background: #f5f5f5; padding: 40px 20px; line-height: 1.8; }
        .container { max-width: 600px; margin: 0 auto; background: white; padding: 30px; border-radius: 8px; box-shadow: 0 0 15px rgba(0,0,0,0.05); }
        h1 { text-align: center; color: #333; font-size: 28px; margin-bottom: 10px; }
        .subtitle { text-align: center; color: #666; font-size: 14px; margin-bottom: 30px; }
        .input-group { margin-bottom: 20px; }
        label { display: block; margin-bottom: 8px; color: #555; font-weight: 500; font-size: 16px; }
        input, select { width: 100%; padding: 12px 15px; border: 1px solid #ddd; border-radius: 4px; font-size: 16px; }
        button { width: 100%; padding: 14px; background: #2d3748; color: white; border: none; border-radius: 4px; font-size: 18px; cursor: pointer; margin-top: 10px; }
        .result-box { margin-top: 30px; padding: 25px; background: #f8f9fa; border-radius: 4px; border-left: 4px solid #2d3748; display: none; }
        .result-section { margin-bottom: 20px; padding-bottom: 20px; border-bottom: 1px solid #eee; }
        .result-section:last-child { margin-bottom: 0; padding-bottom: 0; border-bottom: none; }
        .result-section h3 { color: #2d3748; margin-bottom: 15px; font-size: 18px; }
        .result-item { margin-bottom: 12px; color: #333; }
        strong { color: #2d3748; }
        .level-tag { display: inline-block; padding: 3px 8px; border-radius: 4px; margin-left: 8px; font-size: 14px; }
        .level-1 { background: #e8f4f8; color: #4299e1; }
        .level-2 { background: #f0f8fb; color: #38b2ac; }
        .level-3 { background: #fef7fb; color: #e53e3e; }
        .advantage { color: #48bb78; }
        .disadvantage { color: #ed8936; }
        .footer-tip { margin-top: 30px; padding: 20px; background: #f8f9fa; border-radius: 4px; font-size: 14px; color: #666; line-height: 2; }
        .footer-tip p { margin-bottom: 10px; }
        .footer-tip .motto { font-style: italic; color: #2d3748; text-align: center; margin-top: 15px; }
        .author-info { margin-top: 20px; padding: 15px; background: #fff5f5; border-radius: 4px; font-size: 14px; text-align: center; }
        .author-info .wechat { color: #e53e3e; font-weight: bold; }
    </style>
</head>
<body>
    <div class="container">
        <h1>【异路功名】流年五行测算</h1>
        <div class="subtitle">原创0-9数字算法 | 理性参考 随缘交流</div>
        
        <div class="input-group">
            <label for="gender">性别</label>
            <select id="gender" required>
                <option value="">请选择</option>
                <option value="男">男</option>
                <option value="女">女</option>
            </select>
        </div>

        <div class="input-group">
            <label for="birthYear">出生年 (阳历):</label>
            <input type="text" id="birthYear" placeholder="如：1990" required>
        </div>
        <div class="input-group">
            <label for="birthMonth">出生月 (阳历):</label>
            <input type="text" id="birthMonth" placeholder="如：5" required>
        </div>
        <div class="input-group">
            <label for="birthDay">出生日 (阳历):</label>
            <input type="text" id="birthDay" placeholder="如：20" required>
        </div>

        <button onclick="calculateDestiny()">开始测算</button>

        <div class="result-box" id="resultBox">
            <div class="result-section">
                <h3>先天格局</h3>
                <div class="result-item">
                    <strong class="advantage">先天优势</strong>：<span id="advantage"></span>
                </div>
                <div class="result-item">
                    <strong class="disadvantage">先天劣势</strong>：<span id="disadvantage"></span>
                </div>
                <div class="result-item">
                    <strong>先天星曜</strong>：<span id="star"></span>
                </div>
            </div>
            <div class="result-section">
                <h3>流年运势</h3>
                <div class="result-item">
                    <strong>流年主运</strong>：<span id="mainLuck"></span>
                    <span id="levelTag" class="level-tag"></span>
                </div>
                <div class="result-item">
                    <strong>核心提示</strong>：<span id="coreTip"></span>
                </div>
            </div>
        </div>

        <div class="footer-tip">
            <p>以上内容仅供参考，同名不同命，需结合自身理性判断。</p>
            <p>1. 命理的价值在于调整：若有警示，宜多加留意，提前准备，防患于未然。</p>
            <p>2. 命运是动态的博弈：它不是一成不变的定数，而是可以通过当下的选择和行动去影响和改变的。</p>
            <p>3. 它是一个参考坐标系：可以用来观照生活，但绝非躺平的理由。积极的心态和主动的作为，永远是把握人生的关键。</p>
            <div class="motto">人求上进，皆由己出；因缘而聚，因运而生。</div>
        </div>

        <div class="author-info">
            作者微信：<span class="wechat">异路功名 (jinzhixiu556677)</span><br>
            本工具为原创内容，转载请注明出处
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/seedrandom@3.0.5/seedrandom.min.js"></script>
    <script>
        // 1. 先天格局库（含优势、劣势、星曜）
        const destinyData = [
            { 
                advantage: "贵人运旺盛，家庭关系和睦，事业易获外戚助力，安家立业顺遂",
                disadvantage: "易遇小人是非，偶尔错失机遇，存在轻微破财或口舌之争",
                star: "天乙星：易得贵人扶持，事业遇困时有转机"
            },
            { 
                advantage: "财运顺遂，事业上升势头明显，正财偏财皆有收获，贵人扶持力度大",
                disadvantage: "男性易因事业忽略家庭，女性易遇情感阻碍，需防冲动决策",
                star: "天福星：财运亨通，正财偏财皆顺"
            },
            { 
                advantage: "洞察力强，能提前规避部分风险，关键时刻有破局能力",
                disadvantage: "人际矛盾较多，家庭易起争执，健康需防内疾，财运波动较大",
                star: "天阴星：易犯小人，需防背后是非"
            },
            { 
                advantage: "缘分机遇较多，社交圈子广，适合拓展人脉资源",
                disadvantage: "易陷入声色犬马之困，理财能力弱，易欠债借钱，需防败家风险",
                star: "天杀星：易遇意外，需注重安全"
            },
            { 
                advantage: "异性缘佳，家庭氛围融洽，子女运顺遂，生活安稳富足",
                disadvantage: "易浪费钱财，机遇来临时常错失，需防轻微口舌是非",
                star: "天盈星：异性缘旺，感情顺遂"
            },
            { 
                advantage: "智慧出众，创意十足，学习能力强，适合深耕技术或学术",
                disadvantage: "事业易遇瓶颈，感情易生隔阂，健康需防内疾，易遭小人暗算",
                star: "天破星：事业易遇瓶颈，需另寻出路"
            },
            { 
                advantage: "行动力强，才华能得到充分施展，运势上升期突破明显",
                disadvantage: "运势起伏较大，易因急躁错失良机，需防人际是非影响事业",
                star: "天晦星：运势有起伏，需耐心等待"
            },
            { 
                advantage: "意志力坚定，抗压能力强，关键时刻能坚守底线",
                disadvantage: "家庭关系不睦，健康易出问题，易败家涉赌，需防日后灾祸",
                star: "天牢星：易陷困境，需坚守本心"
            },
            { 
                advantage: "事业稳步发展，财运稳定，安家立业顺遂，贵人暗中相助",
                disadvantage: "易遇小人口舌，偶尔情绪低落，需防轻微破财",
                star: "天尊星：事业平稳，稳步上升"
            },
            { 
                advantage: "孝顺长辈，家庭和睦，子女运佳，投资易获利，健康状况良好",
                disadvantage: "需防官司是非，言行需谨慎，易遇外戚相关的小阻碍",
                star: "天孝星：孝顺长辈，家庭和睦"
            }
        ];

        // 2. 流年运势库（含1-3级分级）
        const luckData = [
            { level: 1, type: "吉", content: "流年顺遂，正财稳定，生活平顺无波澜，小惊喜不断" },
            { level: 1, type: "凶", content: "小破财不断，人际遇轻微是非，做事多有阻滞但无大碍" },
            { level: 2, type: "吉", content: "贵人运旺盛，事业遇重要机遇，偏财有意外收获，感情顺遂" },
            { level: 2, type: "凶", content: "工作压力大，家庭易起争执，健康出现小状况，需谨慎应对" },
            { level: 2, type: "吉", content: "技能提升见效快，副业收入增加，人际关系和谐，出行平安" },
            { level: 2, type: "凶", content: "投资易亏损，合作出现裂痕，小人作祟影响心情，运势起伏" },
            { level: 3, type: "吉", content: "大运流年皆吉，事业迎来重大突破，财运爆棚，家庭添喜" },
            { level: 3, type: "凶", content: "流年犯忌神，事业遇重大阻碍，破财风险高，健康需重点防护" },
            { level: 1, type: "吉", content: "家庭和睦，子女学业/事业进步，邻里关系融洽，无烦忧之事" },
            { level: 1, type: "凶", content: "出行小不顺，办事多拖延，情绪波动大，易与他人起口角" }
        ];

        // 3. 核心随机逻辑
        function getRandomWithSeed(seed, max) {
            const rng = new Math.seedrandom(seed);
            return Math.floor(rng() * max);
        }

        // 4. 测算主函数
        function calculateDestiny() {
            const gender = document.getElementById("gender").value;
            const year = document.getElementById("birthYear").value;
            const month = document.getElementById("birthMonth").value;
            const day = document.getElementById("birthDay").value;
            const resultBox = document.getElementById("resultBox");

            if (!gender || !year || !month || !day) {
                alert("请填写所有信息！");
                return;
            }

            // 生成唯一种子
            const seed = gender + year + month + day;

            // 获取随机结果
            const destinyIndex = getRandomWithSeed(seed, destinyData.length);
            const selectedDestiny = destinyData[destinyIndex];
            
            const luckIndex = getRandomWithSeed(seed + "luck", luckData.length);
            const selectedLuck = luckData[luckIndex];

            // 填充结果
            document.getElementById("advantage").innerText = selectedDestiny.advantage;
            document.getElementById("disadvantage").innerText = selectedDestiny.disadvantage;
            document.getElementById("star").innerText = selectedDestiny.star;
            
            document.getElementById("mainLuck").innerText = selectedLuck.content;
            document.getElementById("levelTag").innerText = selectedLuck.level + "级";
            document.getElementById("levelTag").className = `level-tag level-${selectedLuck.level}`;
            document.getElementById("coreTip").innerText = selectedLuck.type === "吉" ? 
                "本年运势上扬，宜主动出击把握机遇。" : 
                "本年运势多阻，宜稳守为主，避免冒进。";

            // 显示结果
            resultBox.style.display = "block";
        }
    </script>
</body>
</html>
